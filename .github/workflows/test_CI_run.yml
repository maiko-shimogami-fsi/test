name: form-example 
on:
 workflow_dispatch:
    inputs:
      input_node:
        description: 'Please enter the node name.'
        required: true

env:
  ENV_VAR_EXE_JQ: ${{ secrets.ENV_VAR_EXE_JQ }}
  ENV_VAR_EXE_WBYT: ${{ secrets.ENV_VAR_EXE_WBYT }}
  ENV_VAR_EXE: ""
  
jobs:
    check-bats-version:
      runs-on: ubuntu-20.04

      steps:
      #環境を設定する
        - name: create text
          uses: actions/checkout@v3
        - run: |
            if [[ ! -z "$ENV_VAR_EXE_JQ" ]]; then
             #JQ環境
             ENV_VAR_EXE='env_JQ'
             echo "ENV_VAR_EXE=$ENV_VAR_EXE" >> $GITHUB_ENV
             echo "1をとおる"
            elif [[ ! -z "$ENV_VAR_EXE_WBYT" ]]; then
             #WbyT環境
             ENV_VAR_EXE='env_WbyT'
             echo "ENV_VAR_EXE=$ENV_VAR_EXE" >> $GITHUB_ENV
             echo "2をとおる"
            fi
            
            echo "ENV_VAR_EXE=$ENV_VAR_EXE" 

      #チェック確認
        - name: check
          run: |
           cd tools
           chmod 777 check.sh
           sh ./check.sh $ENV_VAR_EXE

      #チェック確認
        - name: check plus
          run: |
           echo "再確認!"
           echo "ENV_VAR_EXE=$ENV_VAR_EXE"
