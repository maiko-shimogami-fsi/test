name: form-example 
on:
 workflow_dispatch:
    inputs:
      input_node:
        description: 'Please enter the node name.'
        required: true
      input_mirror:
        description: 'Please enter the mirror branch name or SHA1.'
        required: true
      input_1node:
        description: 'Please enter the 1node base branch name or SHA1.(If there is no input, it will be "main".)'
        required: false

jobs:
    check-bats-version:
      runs-on: ubuntu-20.04
      
      steps:
      #入力情報をtextファイルに追加
        - name: create text
          uses: actions/checkout@v3
        - run: |
           echo "NodeName:${{ inputs.input_node }}" >> CI_env_info.txt
           echo "SHA1:${{ inputs.input_mirror }}" >> CI_env_info.txt
           echo "1NodeBase:${{ inputs.input_1node }}" >> CI_env_info.txt
           git config user.name github-actions
           git config user.email github-actions@github.com
           git add .
           git commit -m "generated"
           git push
           
      #スレーブ環境クリーン
        #- name: clean environment
        #errorcheck.sh  run: sh ./work/app_measure_proctime_1node/CI_tools/clean.sh
      
      #チェックアウトとエラー確認
        - name: file check
          run: |
           mkdir temp
           cp /tools/errorcheck.sh /temp/errorcheck.sh
           zip -r myfiles.zip temp
           
