name: form-example 
on:
 workflow_dispatch:
    inputs:
      input_node:
        description: 'Please enter the node name.'
        required: true
env:
 ENV_VAR_EXE: ${{ secrets.ENV_VAR_EXE }} 
 
jobs:
    check-bats-version:
      runs-on: ubuntu-20.04
     
      steps:
      #環境を設定する
        - name: create text
          uses: actions/checkout@v3
        - run: |

      #チェック確認
        - name: check
          run: |
           cd tools
           chmod 777 check.sh
           sh ./check.sh $ENV_VAR_EXE

        - name: Show parameters
          run: |
           echo "### 条件" >> $GITHUB_STEP_SUMMARY
           echo "NodeName:${{ inputs.input_node }}" >> $GITHUB_STEP_SUMMARY
           echo "CompName:${{ inputs.input_node }}" >> $GITHUB_STEP_SUMMARY
           echo "TargetSHA1:xxxxxxxxxxxxxxxx" >> $GITHUB_STEP_SUMMARY
           echo "mf4ブランチ名:main" >> $GITHUB_STEP_SUMMARY
           echo "計測対象ブランチ名:AUTO_xxxxxx" >> $GITHUB_STEP_SUMMARY

        - name: Show parameters2
          run: |
           DATA=$(awk -F'\t' '{print $1, $2, $3}' btob_datainfo.txt)
           read -r DATA1 DATA2 DATA3 <<< "$DATA"
           echo "### 結果" >> $GITHUB_STEP_SUMMARY
           echo "| シナリオ名 | 最大処理時間 | B2B一致／不一致 |" >> $GITHUB_STEP_SUMMARY
           echo "| --- | ---| --- |" >> $GITHUB_STEP_SUMMARY
           echo "| $DATA1 | $DATA2(../blob/master/tools) | $DATA3 |" >> $GITHUB_STEP_SUMMARY
      
