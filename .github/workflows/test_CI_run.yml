name: form-example 
on:
 workflow_dispatch:
    inputs:
      input_node:
        description: 'Please enter the node name.'
        required: true
      input_mirror:
        description: 'Please enter the mirror branch name or SHA1.'
        required: true
      input_1node:
        description: 'Please enter the 1node base branch name or SHA1.(If there is no input, it will be "main".)'
        required: false

env:
  ENV_VAR_EXE_JQ: ${ secrets.ENV_VAR_EXE_JQ }
  ENV_VAR_EXE_WBYT: ${ secrets.ENV_VAR_EXE_WBYT }
  ENV_VAR_EXE: ${ env.ENV_VAR_EXE_JQ != '' && 'env_JQ' || env.ENV_VAR_EXE_WBYT != '' && 'env_WbyT' || '' }
  
jobs:
    check-bats-version:
      runs-on: ubuntu-20.04

      steps:
      #環境を設定する
        - name: create text
          uses: actions/checkout@v3
        - run: |
           echo "ENV_VAR_EXE_JQ=${ env.ENV_VAR_EXE_JQ }"
           echo "ENV_VAR_EXE_WBYT=${ env.ENV_VAR_EXE_WBYT }"
           
           #if [[ ! -z "$ENV_VAR_EXE_JQ" ]]; then
           # #JQ環境
           # ENV_VAR_EXE='env_JQ'
           #elif [[ ! -z "$ENV_VAR_EXE_WBYT" ]]; then
           # #WbyT環境
           # ENV_VAR_EXE='env_WbyT'
           #fi
           #echo "$ENV_VAR_EXE"

      #チェック確認
        - name: check
          run: |
           echo "ENV_VAR_EXE=${ env.ENV_VAR_EXE }"
           cd tools
           chmod 777 check.sh
           sh ./check.sh $ENV_VAR_EXE
           
