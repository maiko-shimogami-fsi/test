name: form-example 
on:
 workflow_dispatch:
    inputs:
      input_node:
        description: 'Please enter the node name.'
        required: true
      input_mirror:
        description: 'Please enter the mirror branch name or SHA1.'
        required: true
      input_1node:
        description: 'Please enter the 1node base branch name or SHA1.(If there is no input, it will be "main".)'
        required: false

env:
  ENV_VAR_EXE_JQ: ${ secrets.ENV_VAR_EXE_JQ }
  ENV_VAR_EXE_WBYT: ${ secrets.ENV_VAR_EXE_WBYT }
  ENV_VAR_EXE: ""
  
jobs:
    check-bats-version:
      runs-on: ubuntu-20.04

      steps:
      #環境を設定する
        - name: set env_var_exe
          run: |
           if [[ ! -z "$ENV_VAR_EXE_JQ" ]]; then
            #JQ環境
            ENV_VAR_EXE='env_JQ'
           elif [[ ! -z "$ENV_VAR_EXE_WBYT" ]]; then
            #WbyT環境
            ENV_VAR_EXE='env_WbyT'
           fi

      #チェック確認
        - name: check
          run: |
           cd tools
           chmod 777 test.sh
           sh ./test.sh $ENV_VAR_EXE
           
